ARG FROM_PLATFORM
ARG IMAGE_BASIC_NACOS_VERSION
FROM --platform=${FROM_PLATFORM} sparrow-basic-nacos:${IMAGE_BASIC_NACOS_VERSION}

ARG NACOS_MODE
ENV MODE ${NACOS_MODE}

ARG NACOS_AUTH_ENABLE
ENV NACOS_AUTH_ENABLE ${NACOS_AUTH_ENABLE}

ARG NACOS_AUTH_TOKEN
ENV NACOS_AUTH_TOKEN "${NACOS_AUTH_TOKEN}"

ARG NACOS_AUTH_IDENTITY_KEY
ENV NACOS_AUTH_IDENTITY_KEY ${NACOS_AUTH_IDENTITY_KEY}

ARG NACOS_AUTH_IDENTITY_VALUE
ENV NACOS_AUTH_IDENTITY_VALUE ${NACOS_AUTH_IDENTITY_VALUE}

COPY ./templates/application.properties /home/nacos/conf/application.properties
